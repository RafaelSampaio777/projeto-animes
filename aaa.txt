//     Se quiser alterar a busca, ajuste as regras de negócio em src/controllers
    //     Para ajustar o "select", ajuste o comando sql em src/models
    function atualizarGrafico(fk_anime, dados) {

        fetch(`/medidas/tempo-real/${fk_anime}`, { cache: 'no-store' }).then(function (response) {
            if (response.ok) {
                response.json().then(function (novoRegistro) {

                    console.log(`Dados recebidos: ${JSON.stringify(novoRegistro)}`);
                    console.log(`Dados atuais do gráfico: ${dados}`);

                    // tirando e colocando valores no gráfico
                    dados.labels.shift(); // apagar o primeiro
                    dados.labels.push(novoRegistro[0].momento_grafico); // incluir um novo momento

                    // tirando e colocando valores no gráfico
                    dados2.labels.shift(); // apagar o primeiro
                    dados2.labels.push(novoRegistro[0].momento_grafico); // incluir um novo momento

                    dados.datasets[0].data.shift();  // apagar o primeiro de temperatura
                    dados.datasets[0].data.push(novoRegistro[0].temperatura); // incluir uma nova medida de temperatura

                    dados2.datasets[0].data.shift();  // apagar o primeiro de umidade
                    dados2.datasets[0].data.push(novoRegistro[0].luminosidade); // incluir uma nova medida de umidade

                    window.grafico_linha.update();
                    window.grafico_linha2.update();

                    temp_atual.innerHTML = `${dados.datasets[0].data[dados.datasets[0].data.length - 1]} °C`
                    lum_atual.innerHTML = `${dados2.datasets[0].data[dados2.datasets[0].data.length - 1]} Lux`

                    // Altere aqui o valor em ms se quiser que o gráfico atualize mais rápido ou mais devagar
                    proximaAtualizacao = setTimeout(() => atualizarGrafico(fk_anime, dados, dados2), 2000);
                });
            } else {
                console.error('Nenhum dado encontrado ou erro na API');
                // Altere aqui o valor em ms se quiser que o gráfico atualize mais rápido ou mais devagar
                proximaAtualizacao = setTimeout(() => atualizarGrafico(fk_anime, dados, dados2), 2000);
            }
        })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
            });

    }


    
        setTimeout(() => atualizarGrafico(fk_anime, dados), 2000);